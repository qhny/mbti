(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[378],{4312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test",function(){return t(8814)}])},8814:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var r=t(5893),l=t(8752),i=t(7294),s=t(4902),o=t(7741),c=t(9352),u=t(6893),a=t(9684),d=t(7484),x=t.n(d);function h(){let[e,n]=(0,i.useState)(a.Wx.None());return(0,i.useEffect)(()=>{if(e.isNone()){n(a.Wx.Some(x()().minute(0).second(0).millisecond(0)));return}let t=setTimeout(()=>{n(e=>e.map(e=>e.add(1e3,"ms")))},1e3);return()=>clearTimeout(t)},[e]),(0,r.jsxs)(s.kC,{width:110,px:2,columnGap:2,justifyContent:"flex-start",alignItems:"center",borderColor:"blackAlpha.300",rounded:"md",children:[(0,r.jsx)(u.TCC,{size:20}),(0,r.jsx)(s.xv,{fontWeight:"bold",children:e.match({Some:e=>{let n=e.minute().toString().padStart(2,"0"),t=e.second().toString().padStart(2,"0");return"".concat(n," : ").concat(t)},None:()=>"-- : --"})})]})}function f(e){return(0,r.jsx)(s.kC,{width:"full",my:2,px:4,direction:"column",justifyContent:"center",alignItems:"flex-end",gap:2,children:(0,r.jsxs)(s.kC,{children:[(0,r.jsx)(h,{}),(0,r.jsx)(o.zx,{"aria-label":"instructions",variant:"solid",leftIcon:(0,r.jsx)(c.tbY,{size:24}),onClick:e.onShowInstructionsButtonClick,children:"说明"})]})})}function j(e){return(0,r.jsxs)(s.kC,{h:"full",px:4,direction:"column",gap:8,children:[(0,r.jsx)(s.X6,{children:"说明"}),(0,r.jsxs)(s.kC,{direction:"column",gap:2,children:[(0,r.jsx)(s.xv,{children:"完成测试大约只需要15分钟。以下是一些完成这个测试的提示："}),(0,r.jsxs)(s.QI,{spacing:2,children:[(0,r.jsx)(s.HC,{children:"这些问题没有正确答案。"}),(0,r.jsx)(s.HC,{children:"快速回答问题，不要过度分析。有些可能措辞不当，选择你感觉最合适的答案。"}),(0,r.jsx)(s.HC,{children:"根据“你实际的情况”回答问题，而不是“你希望别人如何看待你”。"})]})]}),(0,r.jsx)(o.zx,{w:"min-content",colorScheme:"primary",alignSelf:"flex-end",onClick:e.onCloseTestInstructions,children:"好的，我明白了！"})]})}var p=t(1163),m=t(4245),C=t(1943),w=t(448),g=t(4529);let k=(0,g.ZP)(e=>({userTestAnswers:[],setUserTestAnswers:n=>e(()=>({userTestAnswers:n}))}));function S(){let{userTestAnswers:e}=k(),n=e.length/w.P.length*100;return(0,r.jsx)(C.Ex,{w:"full",size:"lg",rounded:"md",colorScheme:"primary",value:n})}function b(e){let{getInputProps:n,getCheckboxProps:t}=(0,m.xL)(e),l=n(),i=t();return(0,r.jsxs)(s.xu,{w:"full",as:"label",children:[(0,r.jsx)("input",{...l}),(0,r.jsx)(s.xu,{px:5,py:3,cursor:"pointer",borderWidth:1,borderRadius:"md",borderColor:"black",userSelect:"none",_checked:{bg:"primary.500",color:"white",borderColor:"primary.500"},_focus:{boxShadow:"outline"},...i,children:e.children})]})}var y=t(3841);function v(){let e=(0,p.useRouter)(),{userTestAnswers:n,setUserTestAnswers:t}=k(),[l,c]=(0,i.useState)(0),u=void 0!==n[l],{getRootProps:a,getRadioProps:d,setValue:x}=(0,m.ar)({name:"answer",defaultValue:n[l],onChange:e=>{let r=[...n];r[l]=e,t(r),f()}}),h=a();function f(){c(e=>e+1>w.P.length-1?e:e+1)}return(0,i.useEffect)(()=>{if(void 0===n[l]){x("");return}x(n[l])},[l,n,x]),(0,r.jsxs)(s.kC,{py:4,w:"full",h:"full",gap:8,direction:"column",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(S,{}),(0,r.jsxs)(s.kC,{direction:"column",children:[(0,r.jsxs)(s.xv,{fontWeight:"bold",align:"center",children:["#",l+1]}),(0,r.jsx)(s.xv,{fontSize:"lg",align:"center",children:w.P[l].question})]}),(0,r.jsx)(s.kC,{w:"full",gap:4,direction:"column",...h,children:w.P[l].answerOptions.map(e=>{let n=d({value:e.type});return(0,r.jsx)(b,{...n,children:e.answer},e.type)})}),(0,r.jsxs)(s.kC,{direction:"row",w:"full",gap:4,children:[(0,r.jsx)(o.zx,{w:"full",variant:"solid",...0===l&&{disabled:!0},onClick:function(){c(e=>e-1<0?e:e-1)},children:"上一题"}),u&&l===w.P.length-1?(0,r.jsx)(o.zx,{w:"full",colorScheme:"primary",onClick:function(){let r=Date.now(),l=n.map((e,n)=>(0,y.wS)(n+1,e));(0,y.TW)({testAnswers:n,testScores:l,timestamp:r}).tap(()=>{t([])}).tapOk(n=>{e.replace("/test/result/?testResultId=".concat(n))}).tapError(e=>{console.error(e)})},children:"查看结果"}):(0,r.jsx)(o.zx,{w:"full",colorScheme:"primary",variant:"solid",...!u&&{disabled:!0},onClick:f,children:"下一题"})]})]})}function _(){let[e,n]=(0,i.useState)(!0);return(0,r.jsxs)(s.kC,{alignSelf:"flex-start",w:"full",h:"full",direction:"column",justifyContent:"center",alignItems:"center",gap:2,px:1,children:[(0,r.jsx)(f,{onShowInstructionsButtonClick:function(){n(!0)}}),(0,r.jsx)(s.kC,{w:{lg:"50%",base:"100%"},h:"full",children:e?(0,r.jsx)(j,{onCloseTestInstructions:function(){n(!1)}}):(0,r.jsx)(v,{})})]})}function I(){return(0,r.jsx)(l.Z,{children:(0,r.jsx)(_,{})})}}},function(e){e.O(0,[874,937,633,893,450,627,930,774,888,179],function(){return e(e.s=4312)}),_N_E=e.O()}]);